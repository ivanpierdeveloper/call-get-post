<!--
    //if (isset($_POST['create_zip'])) {
        if($_SERVER['REQUEST_METHOD'] === 'POST') {
        $POST = $_POST['files'];
        $path = "";
        $msg = "";
        $path_folder = ("docs/file");
        if(extension_loaded('zip')) {
            if(isset($POST) && count($POST) > 0) {
                $zip = new ZipArchive(); // Load Zip library
                $zip_name = time().".zip"; // Zip name
                if($zip->open($zip_name, ZIPARCHIVE::CREATE) !== TRUE) {
                    $msg = ("Spiacente, creazione del file zip, non riuscita");
                    echo '{"Messaggio" : "'.$msg.'"}';
                    exit();
                }
                
                foreach($POST as $key => $file) {
                    $filename = basename($file);
                    if(file_exists($path_folder.$file)) {
                        $zip->addFile($path_folder.$file, $filename); 
                    }  else {
                        //$msg .= "<ul><li>" .$filename . "</li></ul>";
                        $msg .= "Errore";
                    } 
                } // foreach 
                $zip->close();
                if(file_exists($zip_name)){
                    $msg = ("Creazione file riuscita con successo.");
                    // Push to download the Zip
                    header('Content-type: application/zip');
                    header('Content-Disposition: attachment; filename="'.$zip_name.'"');
                    readfile($zip_name);
                    // Remove zip file is exists in temp path
                    unlink($zip_name);
                    
                }
            } /* isset($POST */ else {
                $msg = ('Non è possibile creare il file ZIP.\nRiprovare a selezionare i file desiderati."<br />');
            }
        } /* if extension_loaded */ else {
            $msg = ("Non è un'estensione ZIP.");
        }
        echo '{"Messaggio" : "'.$msg.'"}';
    } // if isset post.
    else {
        echo '{"Titolo" : "Fuori dal POST"}';
    }
?>
-->